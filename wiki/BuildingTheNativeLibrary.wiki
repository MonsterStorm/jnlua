#summary Building the Native Library

JNLua uses a native library which integrates Lua with Java by means of the Java Native API (JNI). The native library is written in ANSI C and invokes the actual Lua implementation provided by a shared Lua library.

The sources of the native library are part of the `src` assembly that is downloadable from the JNLua web site. The assembly contains the following directories that are relevant for building the native library:

|| *Directory* || *Description* || 
|| `jnlua-{version}/src/main/c` || C sources of the native library ||
|| `jnlua-{version}/src/main/c/{platform}` || Makefiles for various platforms ||

Currently, JNLua provides Makefiles for the Windows, Linux and MacOSX platforms. The build process is deliberately kept simple. It should therefore be relatively easy to adapt a Makefile for a platform that is not supported out-of-the-box from one of the existing Makefiles.
 
Building the JNLua native library requires a shared Lua library. For many platforms, you can download a shared Lua library from the [http://luabinaries.sourceforge.net/ LuaBinaries project] web site. Many Linux distributions provide the shared Lua library as a package.

JNLua 0.9 requires Lua 5.1.

JNLua 1.0 requires Lua 5.2.

To build the native library for a platform, change into the appropriate directory and edit the Makefile to customize the paths for your environment. The paths typically define the location of the shared Lua library on your system as well as the location of the Java Development Kit (JDK). When the paths are set correctly, run *make* from the platform directory. On the Windows platform, open the _Visual Studio Command Prompt_ from the Start Menu and then run *nmake* from the platform directory.

The Makefiles compile the JNLua native library from its sources to an object file. In the next step, the object file is dynamically linked with shared Lua library to build the final JNLua native library. 